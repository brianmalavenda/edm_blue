"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[866],{90:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(1609),i=n(6942),a=n.n(i),r=n(8468),s=n(8969),l=n(9269);const d=({title:e,subtitle:t})=>{const n=(0,r.useContext)(l.D),i=n?.theme||!1;return(0,o.createElement)("div",{className:"nfd-onboarding-step__heading"},(0,o.createElement)("h2",{className:"nfd-onboarding-step__heading__title"},e),t&&(0,o.createElement)("div",{className:"nfd-onboarding-step__heading__subtitle"},t,(0,o.createElement)("div",{className:a()("nfd-onboarding-step__heading__icon",i===s.Vw?"nfd-onboarding-step__heading__icon--light":null)})))}},3866:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var o=n(1609),i=n(8468),a=n(7143),r=n(7723);var s=n(6079),l=n(8559),d=n(148),g=n(2940),p=n(6478),_=n(3731),c=n(9034),u=n(1056),m=n(8744),b=n(7675),w=n(2202),h=n(7673),f=n(8969);const E=(0,i.memo)((({questionnaire:e,oldFlow:t,largeOption:n,smallOptions:r,experimentVersion:s})=>{const l=(0,d.Zp)(),[E,S]=(0,i.useState)([]),{brandConfig:M,hireProUrl:O,currentData:k,migrationUrl:C,canMigrateSite:v,allSteps:A}=(0,a.useSelect)((e=>({brandConfig:e(b.M).getNewfoldBrandConfig(),hireProUrl:e(b.M).getfullServiceCreativeTeamUrl(),currentData:e(b.M).getCurrentOnboardingData(),allSteps:e(b.M).getAllSteps(),canMigrateSite:e(b.M).canMigrateSite(),migrationUrl:e(b.M).getMigrationUrl()}))),{updateAllSteps:x,updateTopSteps:I,updateRoutes:N,updateDesignRoutes:D,updateInitialize:F,setCurrentOnboardingData:V}=(0,a.useDispatch)(b.M);(0,i.useEffect)((()=>{s&&1===s?r.pop():r.shift(),S(r)}),[s]);const y=e=>{if(!(0,g.nC)(M,e))return!1;const t=window.nfdOnboarding.currentFlow,n=(0,p.Sg)(e)();x(n.steps),I(n?.topSteps),N(n.routes),D(n?.designRoutes),m.d0!==t&&(window.nfdOnboarding.oldFlow=t),window.nfdOnboarding.currentFlow=e,k.activeFlow=e,k.continueWithoutAi=!1,V(k),m.d0!==e&&F(!0),l(n.steps[1].path)},P=e=>{let n=!1;switch(e){case"sitebuild":n="DIY",y(t);break;case"sitegen":n="AI",y(m.d0);break;case"hirepro":n="PRO",window.open(O,"_blank");break;case"migration":n="MIGRATE",(()=>{if(v){const e=A.some((e=>e.path===_.O.path));if(!e){const e=(0,g.gK)(A,c.O);x(e.allSteps)}l(_.O.path)}else window.open(C,"_blank")})();break;case"tutorial":return(0,u.SV)(new u.iC(w.Qh,"TUTORIAL")),void window.location.replace(f.R0)}n&&(0,u.v)(new u.iC(w.Qh,n))};return s&&E&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)("p",{className:"nfd-onboarding-sitegen-options__questionnaire"},e),(0,o.createElement)("div",{className:"nfd-onboarding-sitegen-options__option nfd-onboarding-sitegen-options__option--large",role:"button",tabIndex:0,onClick:()=>{P(n.flow)},onKeyDown:()=>{P(n.flow)},"data-flow":n.flow},(0,o.createElement)("h3",{className:"nfd-onboarding-sitegen-options__option__heading__title nfd-onboarding-sitegen-options__option__heading__title--large"},(0,o.createElement)(h.A,{height:"80px"}),n.span&&(0,o.createElement)("span",{className:"nfd-onboarding-sitegen-options__option__span"},n.span),n.title),(0,o.createElement)("p",{className:"nfd-onboarding-sitegen-options__option__heading__subtitle nfd-onboarding-sitegen-options__option__heading__subtitle--large"},n.text1),(0,o.createElement)("p",{className:"nfd-onboarding-sitegen-options__option__heading__subtitle nfd-onboarding-sitegen-options__option__heading__subtitle--large"},n.text2)),(0,o.createElement)("div",{className:"nfd-onboarding-sitegen-options__container"},E.map(((e,t)=>e.show?(0,o.createElement)("div",{className:"nfd-onboarding-sitegen-options__option",key:t,role:"button",tabIndex:0,onClick:()=>{P(e.flow)},onKeyDown:()=>{P(e.flow)},"data-flow":e.flow},(0,o.createElement)("h3",{className:"nfd-onboarding-sitegen-options__option__heading__title"},e.span&&(0,o.createElement)("span",{className:"nfd-onboarding-sitegen-options__option__span"},e.span),e.title),(0,o.createElement)("p",{className:"nfd-onboarding-sitegen-options__option__heading__subtitle"},e.subtitle)):(0,o.createElement)(o.Fragment,null)))))}));var S=n(3988),M=n(90);const O=()=>{const[e,t]=(0,i.useState)(),{currentData:n,migrationUrl:d,canMigrateSite:g,pluginInstallHash:p}=(0,a.useSelect)((e=>({currentData:e(b.M).getCurrentOnboardingData(),migrationUrl:e(b.M).getMigrationUrl(),canMigrateSite:e(b.M).canMigrateSite(),currentStep:e(b.M).getCurrentStep(),routes:e(b.M).getRoutes(),pluginInstallHash:e(b.M).getPluginInstallHash()}))),{setIsHeaderEnabled:_,setSidebarActiveView:c,setHeaderActiveView:h,setDrawerActiveView:O,setIsHeaderNavigationEnabled:k,setFooterActiveView:C,setHideFooterNav:v,setCurrentOnboardingData:A}=(0,a.useDispatch)(b.M);(0,i.useEffect)((()=>{v(!0),_(!1),c(!1),k(!1),h(f.Ix),O(!1),C(f.Sr),(0,l.Ts)(p),x()}));const x=async()=>{let e=0;if(0!==n.sitegen.theForkExperimentVersion)t(n.sitegen.theForkExperimentVersion),e=n.sitegen.theForkExperimentVersion;else{e=Math.floor(2*Math.random())+1,t(e),n.sitegen.theForkExperimentVersion=e,A(n),await(0,s.V1)(n);const o={1:"control",2:"hidden"};(0,u.SV)(new u.iC(w.Rh,o[e],null,null,w.ft))}};(0,i.useEffect)((()=>{const e=new URL(window.location),t=e.searchParams.get("restart");t&&(e.searchParams.delete("restart"),window.history.pushState({},"",e.toString()),(0,u.SV)(new u.iC(w.c$,t)))}),[]);const I=window.nfdOnboarding?.oldFlow?window.nfdOnboarding.oldFlow:m.rA,N=()=>{(0,u.SV)(new u.iC(w.Qh,"TUTORIAL")),window.location.replace(f.R0)},D=((e,t)=>({heading:(0,r.__)("Welcome to WordPress","wp-module-onboarding"),subheading:(0,r.__)("powered by ","wp-module-onboarding"),questionnaire:(0,r.__)("Where would you like to start?","wp-module-onboarding"),largerOption:{title:(0,r.__)("Site Creator","wp-module-onboarding"),text1:(0,r.__)("Get a site created in seconds!","wp-module-onboarding"),text2:(0,r.__)("Content & design generated by AI, customizable by you.","wp-module-onboarding"),span:(0,r.__)("AI","wp-module-onboarding"),flow:"sitegen"},smallerOptions:[{title:(0,r.__)("Guided Website Setup","wp-module-onboarding"),subtitle:(0,r.__)("Follow a step-by-step guide.","wp-module-onboarding"),flow:"sitebuild",show:!0},{title:(0,r.__)("Import a WordPress Site","wp-module-onboarding"),subtitle:(0,r.__)("Use our free, automated import tool!","wp-module-onboarding"),flow:"migration",show:e||t},{title:(0,r.__)("I’m following a tutorial","wp-module-onboarding"),subtitle:(0,r.__)("Take me to the WP Admin Dashboard","wp-module-onboarding"),flow:"tutorial",show:e||t}],importtext:(0,r.__)("Already have a WordPress site you want to import?","wp-module-onboarding"),importlink:(0,r.__)("https://my.bluehost.com/cgi/services/migration","wp-module-onboarding"),exitToWordPress:(0,r.__)("I’m following a tutorial, take me to the WP Admin Dashboard","wp-module-onboarding")}))(g,d);return(0,o.createElement)(S.A,{isCentered:!0,className:"nfd-onboarding-step--site-gen__fork"},(0,o.createElement)(M.A,{title:D.heading,subtitle:D.subheading}),(0,o.createElement)(E,{questionnaire:D.questionnaire,oldFlow:I,largeOption:D.largerOption,smallOptions:D.smallerOptions,experimentVersion:e}),1===e&&(0,o.createElement)("span",{role:"button",tabIndex:0,className:"nfd-onboarding-step--site-gen__fork__exit",onClick:()=>N(),onKeyDown:()=>N()},D.exitToWordPress))}}}]);